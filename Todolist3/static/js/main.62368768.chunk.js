(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(t,e,n){t.exports=n(34)},28:function(t,e,n){},30:function(t,e,n){},32:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var i=n(3),o=n(0),a=n.n(o),r=n(17),s=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(5),u=n(9),d=n(6),l=n(7),h=n(11),p=n(8),f=n(10),b=n(1),E=(n(28),"todo,ongoing,finished,removed,canceled".split(/,/g));var m=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(h.a)(this,Object(p.a)(e).call(this,t))).state={editing:!1},n.inputRef=a.a.createRef(),n._onEditionStart=n.onEditionStart.bind(Object(b.a)(Object(b.a)(n))),n._onEditionEnd=n.onEditionEnd.bind(Object(b.a)(Object(b.a)(n))),n}return Object(f.a)(e,t),Object(l.a)(e,[{key:"onEditionStart",value:function(t){this.state.editing||this.setState({editing:!0})}},{key:"onEditionEnd",value:function(t){if(this.state.editing){this.setState({editing:!1});var e=this.inputRef.current.innerText;this.props.onTitleChange&&this.props.onTitleChange(e)}}},{key:"componentDidUpdate",value:function(){this.state.editing&&this.inputRef.current.focus()}},{key:"render",value:function(){return a.a.createElement("div",{className:"task "+(this.props.status||"todo")},a.a.createElement("button",{onClick:this.props.onStatusChange}),a.a.createElement("span",{contentEditable:this.state.editing,onDoubleClick:this._onEditionStart,onBlur:this._onEditionEnd,ref:this.inputRef},this.props.title),a.a.createElement("time",null,this.props.creation))}}]),e}(o.Component),O=(n(30),function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(h.a)(this,Object(p.a)(e).call(this,t))).inputRef=a.a.createRef(),n._maybeNew=n.maybeNew.bind(Object(b.a)(Object(b.a)(n))),n._addTodo=n.addTodo.bind(Object(b.a)(Object(b.a)(n))),n}return Object(f.a)(e,t),Object(l.a)(e,[{key:"maybeNew",value:function(t){13===t.keyCode&&this.addTodo()}},{key:"addTodo",value:function(){var t=this.inputRef.current.value;t&&(this.props.onNewTodo(t),this.inputRef.current.value="")}},{key:"render",value:function(){var t=this;return a.a.createElement("main",null,a.a.createElement("h1",null,"Todo list"),a.a.createElement("ul",{className:"todolist"},this.props.todos.map(function(e){var n,i=t.props.onStatusChange.bind(t,e.id,(n=e.status,E[(1+E.indexOf(n||""))%E.length])),o=t.props.onTitleChange.bind(t,e.id);return a.a.createElement("li",{key:e.id},a.a.createElement(m,{id:e.id,title:e.title,status:e.status,creation:"2019-01-03",onStatusChange:i,onTitleChange:o}))})),a.a.createElement("div",{className:"newtitle"},a.a.createElement("input",{type:"text",onKeyUp:this._maybeNew,ref:this.inputRef}),a.a.createElement("button",{onClick:this._addTodo},"Add")))}}]),e}(o.Component)),g=Object(u.b)(function(t){return{todos:t.todos}},function(t){return{onStatusChange:function(e,n){t({type:"STATUS_CHANGE",id:e,status:n})},onTitleChange:function(e,n){n.trim()?t({type:"TITLE_CHANGE",id:e,title:n}):t({type:"TODO_DELETE",id:e})},onNewTodo:function(e){t({type:"TODO_ADD",title:e})}}})(O);n(32);var T=Object(c.b)(function(t,e){switch(e.type){case"STATUS_CHANGE":return Object(i.a)({},t,{todos:t.todos.map(function(t){return t.id!==e.id?t:Object(i.a)({},t,{status:e.status})})});case"TITLE_CHANGE":return Object(i.a)({},t,{todos:t.todos.map(function(t){return t.id!==e.id?t:Object(i.a)({},t,{title:e.title})})});case"TODO_ADD":var n=t.todos.reduce(function(t,e){return Math.max(t,e.id)},0);return Object(i.a)({},t,{todos:t.todos.concat([{id:n+1,status:"todo",title:e.title,creation:(new Date).toISOString().replace(/T.*/,"")}])});case"TODO_DELETE":return Object(i.a)({},t,{todos:t.todos.filter(function(t){return t.id!==e.id})});default:return t}},function(){var t=null;try{t=localStorage.getItem("todolist_redux_store")}catch(e){t=null}return t?JSON.parse(t):{todos:[]}}());T.subscribe(function(){return console.log("STORE",JSON.stringify(T.getState()))}),T.subscribe(function(){localStorage.setItem("todolist_redux_store",JSON.stringify(T.getState()))}),s.a.render(a.a.createElement(u.a,{store:T},a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.62368768.chunk.js.map